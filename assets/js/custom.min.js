function startPreloader(e){const t=document.querySelector("body");if(!e)return void t.classList.add("is-ready");e.style.display="flex";if(checkPreloader()){if(!t||!e)return;t.classList.add("is-loading"),t.classList.add("no-scroll"),t.classList.remove("is-ready"),createPreloader(e,2500),setTimeout((()=>{t.classList.remove("is-loading"),t.classList.remove("no-scroll"),t.classList.add("is-ready")}),2500),runAnimations()}else e.style.display="none",e.style.opacity="0",t.classList.remove("is-loading"),t.classList.remove("no-scroll"),t.classList.add("is-ready"),runAnimations()}function createPreloader(e,t){const s=e.querySelector(".progress"),r=e.querySelector(".loading-count"),o=2*Math.PI*70;s.style.strokeDasharray=o,s.style.strokeDashoffset=o,r.textContent="0";let n=0;const a=t,i=performance.now();requestAnimationFrame((function t(l){const c=l-i;let u;n=Math.min(c/a*100,100),r.textContent=Math.round(n),u=o-n/100*o,s.style.strokeDashoffset=u,n<100?requestAnimationFrame(t):setTimeout((()=>{e.style.opacity="0",setTimeout((()=>e.remove()),1e3)}),200)}))}function checkPreloader(){return!sessionStorage.getItem("siteVisited")&&(sessionStorage.setItem("siteVisited","true"),!0)}function startHorizontalScroll(e){if(!e||!e.length>2)return;gsap.registerPlugin(ScrollTrigger);let t=gsap.utils.toArray(e),s=document.querySelector(".prev"),r=document.querySelector(".next"),o=window.innerWidth*(t.length-1);ScrollTrigger.matchMedia({"(min-width: 960px)":function(){let e=gsap.to(t,{xPercent:-100*(t.length-1),ease:"none",scrollTrigger:{trigger:".authors-wrapper",start:"center center",pin:!0,scrub:1,end:()=>`+=${o}`,anticipatePin:1,pinSpacing:!0}}),n=0;function a(s){n=gsap.utils.clamp(0,t.length-1,s);let r=n/(t.length-1);gsap.to(e,{progress:r,duration:.6,ease:"power2.inOut"})}r.addEventListener("click",(()=>{a(n+1)})),s.addEventListener("click",(()=>{a(n-1)}))}})}function createCursor(e){if(!e)return;const t=document.querySelectorAll(".target");function s(t){gsap.to(e,{x:t.clientX-e.offsetWidth/2,y:t.clientY-e.offsetHeight/2,duration:.15,ease:"power3.out"})}function r(){gsap.to(e,{scale:.9,duration:.15,ease:"power2.out"})}function o(){gsap.to(e,{scale:1.1,duration:.2,ease:"power2.out",onComplete:()=>{gsap.to(e,{scale:1,duration:.2,ease:"elastic.out(1, 0.4)"})}})}gsap.set(e,{autoAlpha:0,scale:.5}),t.forEach((t=>{t.addEventListener("mouseenter",(()=>{gsap.to(e,{autoAlpha:1,scale:1,duration:.3,ease:"power3.out"}),t.addEventListener("mousemove",s),t.addEventListener("mousedown",r),t.addEventListener("mouseup",o)})),t.addEventListener("mouseleave",(()=>{gsap.to(e,{autoAlpha:0,scale:.5,duration:.3,ease:"power3.in"}),t.removeEventListener("mousemove",s),t.removeEventListener("mousedown",r),t.removeEventListener("mouseup",o)}))}))}function runAnimations(){const e=document.querySelectorAll(".animated");e.forEach((e=>{e.classList.contains("left")?(e.style.opacity=0,e.style.transform="translateX(-50%)"):e.classList.contains("right")?(e.style.opacity=0,e.style.transform="translateX(50%)"):e.classList.contains("center")?e.style.opacity=0:e.classList.contains("list")&&e.querySelectorAll("a").forEach((e=>{e.style.opacity=0,e.style.transform="translateY(-50px)"}))}));const t=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target;e.isIntersecting&&e.intersectionRatio>=.1?t.classList.contains("left")||t.classList.contains("right")?(t.style.transition="all 1.2s ease-out",t.style.opacity=1,t.style.transform="translateX(0)"):t.classList.contains("center")?(t.style.transition="opacity 1.2s ease-out",t.style.opacity=1):t.classList.contains("list")&&t.querySelectorAll("a").forEach(((e,t)=>{e.style.transition=`all 0.8s ${.2*t}s ease-out`,e.style.opacity=1,e.style.transform="translateY(0)"})):t.classList.contains("left")?(t.style.opacity=0,t.style.transform="translateX(-50%)"):t.classList.contains("right")?(t.style.opacity=0,t.style.transform="translateX(50%)"):t.classList.contains("center")?t.style.opacity=0:t.classList.contains("list")&&t.querySelectorAll("a").forEach((e=>{e.style.opacity=0,e.style.transform="translateY(-50px)"}))}))}),{root:null,rootMargin:"0px",threshold:[.1,.9]});e.forEach((e=>t.observe(e)))}function startGallery(e){const t=document.querySelectorAll(".gallery-item"),s=document.body,r=e.querySelector(".close-gallery"),o=e.querySelector(".gallery-swiper"),n={title:e.querySelector(".gc-title"),desc:e.querySelector(".gc-desc"),loc:e.querySelector(".gc-location"),lim:e.querySelector(".gc-limited")},a="is-open";let i=null;function l(e){e&&(n.title.textContent=`"${e.getAttribute("data-title")||""}"`,n.desc.innerHTML=e.getAttribute("data-content")||"",n.loc.innerHTML=e.getAttribute("data-location")||"",n.lim.textContent=e.getAttribute("data-limited")||"")}t.forEach((t=>{t.addEventListener("click",(r=>{r.preventDefault();const n=function(e){const t=o.querySelectorAll(".swiper-wrapper .swiper-slide:not(.swiper-slide-duplicate)");for(let s=0;s<t.length;s++)if((t[s].getAttribute("data-id")||"")===String(e))return s;return 0}(t.getAttribute("data-id"));s.classList.add("no-scroll"),e.classList.add(a),i||(o.swiper&&o.swiper.destroy(!0,!0),i=new Swiper(o,{slidesPerView:1,spaceBetween:0,centeredSlides:!1,loop:!0,speed:500,effect:"slide",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init(e){l(e.slides[e.activeIndex])},slideChange(e){l(e.slides[e.activeIndex])}}})),i.slideToLoop(n,0),requestAnimationFrame((()=>l(i.slides[i.activeIndex])))}))})),r.addEventListener("click",(t=>{t.preventDefault(),e.classList.remove(a),s.classList.remove("no-scroll")}))}window.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".custom-preloader")&&startPreloader(document.querySelector(".custom-preloader")),document.querySelector(".authors-wrapper")&&startHorizontalScroll(document.querySelectorAll(".author-container")),document.querySelector(".target")&&createCursor(document.querySelector(".custom-cursor")),document.querySelector(".gallery-wrapper")&&startGallery(document.querySelector(".gallery-wrapper"))}));