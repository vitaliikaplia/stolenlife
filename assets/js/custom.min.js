function startPreloader(e){const t=document.querySelector("body");if(!e)return void t.classList.add("is-ready");e.style.display="flex";if(checkPreloader()){if(!t||!e)return;t.classList.add("is-loading"),t.classList.add("no-scroll"),t.classList.remove("is-ready"),createPreloader(e,2500),setTimeout((()=>{t.classList.remove("is-loading"),t.classList.remove("no-scroll"),t.classList.add("is-ready")}),2500),runAnimations()}else e.style.display="none",e.style.opacity="0",t.classList.remove("is-loading"),t.classList.remove("no-scroll"),t.classList.add("is-ready"),runAnimations()}function createPreloader(e,t){const n=e.querySelector(".progress"),o=e.querySelector(".loading-count"),s=2*Math.PI*70;n.style.strokeDasharray=s,n.style.strokeDashoffset=s,o.textContent="0";let r=0;const a=t,i=performance.now();requestAnimationFrame((function t(l){const c=l-i;let d;r=Math.min(c/a*100,100),o.textContent=Math.round(r),d=s-r/100*s,n.style.strokeDashoffset=d,r<100?requestAnimationFrame(t):setTimeout((()=>{e.style.opacity="0",setTimeout((()=>e.remove()),1e3)}),200)}))}function checkPreloader(){return!sessionStorage.getItem("siteVisited")&&(sessionStorage.setItem("siteVisited","true"),!0)}function startHorizontalScroll(e){if(!e||!e.length>2)return;gsap.registerPlugin(ScrollTrigger);let t=gsap.utils.toArray(e),n=document.querySelector(".prev"),o=document.querySelector(".next"),s=window.innerWidth*(t.length-1);ScrollTrigger.matchMedia({"(min-width: 960px)":function(){let e=gsap.to(t,{xPercent:-100*(t.length-1),ease:"none",scrollTrigger:{trigger:".authors-wrapper",start:"center center",pin:!0,scrub:1,end:()=>`+=${s}`,anticipatePin:1,pinSpacing:!0}}),r=0;function a(n){r=gsap.utils.clamp(0,t.length-1,n);let o=r/(t.length-1);gsap.to(e,{progress:o,duration:.6,ease:"power2.inOut"})}o.addEventListener("click",(()=>{a(r+1)})),n.addEventListener("click",(()=>{a(r-1)}))}})}function createCursor(e){if(!e)return;const t=document.querySelectorAll(".target");function n(t){gsap.to(e,{x:t.clientX-e.offsetWidth/2,y:t.clientY-e.offsetHeight/2,duration:.15,ease:"power3.out"})}function o(){gsap.to(e,{scale:.9,duration:.15,ease:"power2.out"})}function s(){gsap.to(e,{scale:1.1,duration:.2,ease:"power2.out",onComplete:()=>{gsap.to(e,{scale:1,duration:.2,ease:"elastic.out(1, 0.4)"})}})}gsap.set(e,{autoAlpha:0,scale:.5}),t.forEach((t=>{t.addEventListener("mouseenter",(()=>{gsap.to(e,{autoAlpha:1,scale:1,duration:.3,ease:"power3.out"}),t.addEventListener("mousemove",n),t.addEventListener("mousedown",o),t.addEventListener("mouseup",s)})),t.addEventListener("mouseleave",(()=>{gsap.to(e,{autoAlpha:0,scale:.5,duration:.3,ease:"power3.in"}),t.removeEventListener("mousemove",n),t.removeEventListener("mousedown",o),t.removeEventListener("mouseup",s)}))}))}function runAnimations(){const e=document.querySelectorAll(".animated");e.forEach((e=>{e.classList.contains("left")?(e.style.opacity=0,e.style.transform="translateX(-50%)"):e.classList.contains("right")?(e.style.opacity=0,e.style.transform="translateX(50%)"):e.classList.contains("center")?e.style.opacity=0:e.classList.contains("list")&&e.querySelectorAll("a").forEach((e=>{e.style.opacity=0,e.style.transform="translateY(-50px)"}))}));const t=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target;e.isIntersecting&&e.intersectionRatio>=.1?t.classList.contains("left")||t.classList.contains("right")?(t.style.transition="all 1.2s ease-out",t.style.opacity=1,t.style.transform="translateX(0)"):t.classList.contains("center")?(t.style.transition="opacity 1.2s ease-out",t.style.opacity=1):t.classList.contains("list")&&t.querySelectorAll("a").forEach(((e,t)=>{e.style.transition=`all 0.8s ${.2*t}s ease-out`,e.style.opacity=1,e.style.transform="translateY(0)"})):t.classList.contains("left")?(t.style.opacity=0,t.style.transform="translateX(-50%)"):t.classList.contains("right")?(t.style.opacity=0,t.style.transform="translateX(50%)"):t.classList.contains("center")?t.style.opacity=0:t.classList.contains("list")&&t.querySelectorAll("a").forEach((e=>{e.style.opacity=0,e.style.transform="translateY(-50px)"}))}))}),{root:null,rootMargin:"0px",threshold:[.1,.9]});e.forEach((e=>t.observe(e)))}function startGallery(e){const t=document.querySelectorAll(".gallery-item"),n=document.body,o=e.querySelector(".close-gallery"),s=e.querySelector(".gallery-swiper"),r={title:e.querySelector(".gc-title"),desc:e.querySelector(".gc-desc"),loc:e.querySelector(".gc-location"),lim:e.querySelector(".gc-limited")},a="is-open";let i=null;function l(e){e&&(r.title.textContent=`"${e.getAttribute("data-title")||""}"`,r.desc.innerHTML=e.getAttribute("data-content")||"",r.loc.innerHTML=e.getAttribute("data-location")||"",r.lim.textContent=e.getAttribute("data-limited")||"")}t.forEach((t=>{t.addEventListener("click",(o=>{o.preventDefault();const r=function(e){const t=s.querySelectorAll(".swiper-wrapper .swiper-slide:not(.swiper-slide-duplicate)");for(let n=0;n<t.length;n++)if((t[n].getAttribute("data-id")||"")===String(e))return n;return 0}(t.getAttribute("data-id"));n.classList.add("no-scroll"),e.classList.add(a),i||(s.swiper&&s.swiper.destroy(!0,!0),i=new Swiper(s,{slidesPerView:1,spaceBetween:0,centeredSlides:!1,loop:!0,speed:500,effect:"slide",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init(e){l(e.slides[e.activeIndex])},slideChange(e){l(e.slides[e.activeIndex])}},autoHeight:!0})),i.slideToLoop(r,0),requestAnimationFrame((()=>l(i.slides[i.activeIndex])))}))})),o.addEventListener("click",(t=>{t.preventDefault(),e.classList.remove(a),n.classList.remove("no-scroll")}))}window.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".custom-preloader")&&startPreloader(document.querySelector(".custom-preloader")),document.querySelector(".authors-wrapper")&&startHorizontalScroll(document.querySelectorAll(".author-container")),document.querySelector(".target")&&createCursor(document.querySelector(".custom-cursor")),document.querySelector(".gallery-wrapper")&&startGallery(document.querySelector(".gallery-wrapper"))})),function(){const e=document.querySelector(".burger"),t=document.querySelector(".nav-overlay"),n=document.body;if(!e||!t)return;const o=document.getElementById("catalog-button"),s=o?o.getAttribute("href"):null,r=o?o.getAttribute("download"):null,a=o?o.getAttribute("target"):null;function i(){const e=Array.from(document.querySelectorAll("[data-anchor]")),t=new Set,n=[];for(const o of e){const e=o.getAttribute("data-anchor")?.trim();e&&!t.has(e)&&(t.add(e),n.push({name:e,el:o}))}return n}function l(o){e.classList.remove("is-active"),t.classList.remove("is-open"),n.classList.remove("no-scroll"),"function"==typeof o&&requestAnimationFrame((()=>{requestAnimationFrame((()=>o()))}))}function c(){const e=getComputedStyle(document.documentElement),t=parseInt(e.getPropertyValue("--top-padding-desctop"))||71,n=parseInt(e.getPropertyValue("--top-padding-mobile"))||82;return matchMedia("(max-width: 960px)").matches?n:t}let d=[];function u(){d=i().map((e=>{const n=t.querySelector(`.nav-overlay__link[data-anchor="${CSS.escape(e.name)}"]`);return{...e,link:n}}));const e=window.scrollY+c()+20;let n=null;for(const t of d){t.el.getBoundingClientRect().top+window.scrollY<=e&&(n=t)}t.querySelectorAll(".nav-overlay__link").forEach((e=>e.classList.remove("is-current"))),n&&n.link&&n.link.classList.add("is-current")}window.addEventListener("scroll",u,{passive:!0}),window.addEventListener("resize",u),function(){const o=i().map((e=>{const t=e.el.getAttribute("data-anchor-title")||e.name;return`<a href="#${encodeURIComponent(e.name)}" data-anchor="${e.name}" class="nav-overlay__link">${t}</a>`})).join(""),d=`\n          <div class="nav-overlay__static">\n            <a href="#open-gallery" class="button" data-action="open-gallery">See gallery</a>\n            ${s?`<a class="button" href="${s}" ${a?`target="${a}"`:""} ${r?`download="${r}"`:""} data-action="download-catalog">Download catalog</a>`:""}\n          </div>\n        `;t.innerHTML=`\n          <div class="nav-overlay__inner" data-overlay-inner>\n            ${o}\n            ${d}\n          </div>\n        `,e.onclick=o=>{o.preventDefault(),t.classList.contains("is-open")?l():(e.classList.add("is-active"),t.classList.add("is-open"),n.classList.add("no-scroll"))},t.addEventListener("click",(e=>{const t=e.target.closest("a");if(!t)return;const n=t.getAttribute("data-action");if("open-gallery"===n)return e.preventDefault(),void l((()=>{const e=document.querySelector(".gallery-item");e&&e.click()}));if("download-catalog"===n)return void l();const o=t.getAttribute("data-anchor");if(o){e.preventDefault();const t=document.querySelector(`[data-anchor="${CSS.escape(o)}"]`);t&&l((()=>function(e){if(!e)return;const t=c();if(window.gsap&&window.ScrollToPlugin)gsap.to(window,{duration:.8,scrollTo:{y:e,offsetY:t,autoKill:!0},ease:"power2.out"});else{const n=e.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:n,behavior:"smooth"})}}(t)))}})),t.addEventListener("click",(e=>{const n=t.querySelector("[data-overlay-inner]");n&&!n.contains(e.target)&&l()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&t.classList.contains("is-open")&&l()})),u()}()}();