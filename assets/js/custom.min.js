const isMobile="Mobile"==navigator.userAgent.match(/Mobile/i),ajaxUrl="/wp-admin/admin-ajax.php",siteCookieDomain="."+document.location.hostname.replace("www.","");window.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".custom-preloader")&&startPreloader(document.querySelector(".custom-preloader")),document.querySelector(".authors-wrapper")&&startHorizontalScroll(document.querySelectorAll(".author-container")),document.querySelector(".target")&&createCursor(document.querySelector(".custom-cursor")),document.querySelector(".gallery-wrapper")&&startGallery(document.querySelector(".gallery-wrapper"))}));const fixChromeLoadingPageAnimationIssue=function(){document.body.classList.remove("preload")};function startPreloader(e){const t=document.querySelector("body");if(!e)return void t.classList.add("is-ready");e.style.display="flex";if(checkPreloader()){if(!t||!e)return;t.classList.add("is-loading"),t.classList.add("no-scroll"),t.classList.remove("is-ready"),createPreloader(e,2500),setTimeout((()=>{t.classList.remove("is-loading"),t.classList.remove("no-scroll"),t.classList.add("is-ready")}),2500),runAnimations()}else e.style.display="none",e.style.opacity="0",t.classList.remove("is-loading"),t.classList.remove("no-scroll"),t.classList.add("is-ready"),runAnimations()}function createPreloader(e,t){const o=e.querySelector(".progress"),s=e.querySelector(".loading-count"),r=2*Math.PI*70;o.style.strokeDasharray=r,o.style.strokeDashoffset=r,s.textContent="0";let a=0;const n=t,i=performance.now();requestAnimationFrame((function t(l){const c=l-i;let u;a=Math.min(c/n*100,100),s.textContent=Math.round(a),u=r-a/100*r,o.style.strokeDashoffset=u,a<100?requestAnimationFrame(t):setTimeout((()=>{e.style.opacity="0",setTimeout((()=>e.remove()),1e3)}),200)}))}function checkPreloader(){return!sessionStorage.getItem("siteVisited")&&(sessionStorage.setItem("siteVisited","true"),!0)}function startHorizontalScroll(e){if(!e||!e.length>2)return;gsap.registerPlugin(ScrollTrigger);let t=gsap.utils.toArray(e),o=document.querySelector(".prev"),s=document.querySelector(".next"),r=window.innerWidth*(t.length-1);ScrollTrigger.matchMedia({"(min-width: 960px)":function(){let e=gsap.to(t,{xPercent:-100*(t.length-1),ease:"none",scrollTrigger:{trigger:".authors-wrapper",start:"center center",pin:!0,scrub:1,end:()=>`+=${r}`,anticipatePin:1,pinSpacing:!0}}),a=0;function n(o){a=gsap.utils.clamp(0,t.length-1,o);let s=a/(t.length-1);gsap.to(e,{progress:s,duration:.6,ease:"power2.inOut"})}s.addEventListener("click",(()=>{n(a+1)})),o.addEventListener("click",(()=>{n(a-1)}))}})}function createCursor(e){if(!e)return;const t=document.querySelectorAll(".target");function o(t){gsap.to(e,{x:t.clientX-e.offsetWidth/2,y:t.clientY-e.offsetHeight/2,duration:.15,ease:"power3.out"})}function s(){gsap.to(e,{scale:.9,duration:.15,ease:"power2.out"})}function r(){gsap.to(e,{scale:1.1,duration:.2,ease:"power2.out",onComplete:()=>{gsap.to(e,{scale:1,duration:.2,ease:"elastic.out(1, 0.4)"})}})}gsap.set(e,{autoAlpha:0,scale:.5}),t.forEach((t=>{t.addEventListener("mouseenter",(()=>{gsap.to(e,{autoAlpha:1,scale:1,duration:.3,ease:"power3.out"}),t.addEventListener("mousemove",o),t.addEventListener("mousedown",s),t.addEventListener("mouseup",r)})),t.addEventListener("mouseleave",(()=>{gsap.to(e,{autoAlpha:0,scale:.5,duration:.3,ease:"power3.in"}),t.removeEventListener("mousemove",o),t.removeEventListener("mousedown",s),t.removeEventListener("mouseup",r)}))}))}function runAnimations(){const e=document.querySelectorAll(".animated");e.forEach((e=>{e.classList.contains("left")?(e.style.opacity=0,e.style.transform="translateX(-50%)"):e.classList.contains("right")?(e.style.opacity=0,e.style.transform="translateX(50%)"):e.classList.contains("center")?e.style.opacity=0:e.classList.contains("list")&&e.querySelectorAll("a").forEach((e=>{e.style.opacity=0,e.style.transform="translateY(-50px)"}))}));const t=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target;e.isIntersecting&&e.intersectionRatio>=.1?t.classList.contains("left")||t.classList.contains("right")?(t.style.transition="all 1.2s ease-out",t.style.opacity=1,t.style.transform="translateX(0)"):t.classList.contains("center")?(t.style.transition="opacity 1.2s ease-out",t.style.opacity=1):t.classList.contains("list")&&t.querySelectorAll("a").forEach(((e,t)=>{e.style.transition=`all 0.8s ${.2*t}s ease-out`,e.style.opacity=1,e.style.transform="translateY(0)"})):t.classList.contains("left")?(t.style.opacity=0,t.style.transform="translateX(-50%)"):t.classList.contains("right")?(t.style.opacity=0,t.style.transform="translateX(50%)"):t.classList.contains("center")?t.style.opacity=0:t.classList.contains("list")&&t.querySelectorAll("a").forEach((e=>{e.style.opacity=0,e.style.transform="translateY(-50px)"}))}))}),{root:null,rootMargin:"0px",threshold:[.1,.9]});e.forEach((e=>t.observe(e)))}function startGallery(e){const t=document.querySelectorAll(".gallery-item"),o=document.querySelector("body"),s=e.querySelector(".close-gallery"),r=e.querySelector(".gallery-swiper"),a={root:e.querySelector(".gallery-caption"),title:e.querySelector(".gc-title"),desc:e.querySelector(".gc-desc"),loc:e.querySelector(".gc-location"),lim:e.querySelector(".gc-limited")};let n=null;const i="is-open";function l(e){e&&(a.title.textContent=`"${e.getAttribute("data-title")||""}"`,a.desc.innerHTML=e.getAttribute("data-content")||"",a.loc.innerHTML=e.getAttribute("data-location")||"",a.lim.textContent=e.getAttribute("data-limited")||"")}t.forEach((t=>{t.addEventListener("click",(s=>{s.preventDefault();const a=parseInt(t.getAttribute("data-id")||"1",10)-1;o.classList.add("no-scroll"),e.classList.add(i),n||(r.swiper&&r.swiper.destroy(!0,!0),n=new Swiper(r,{slidesPerView:1,spaceBetween:0,centeredSlides:!1,loop:!0,speed:500,effect:"slide",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init(e){l(e.slides[e.activeIndex])},slideChange(e){l(e.slides[e.activeIndex])}}})),n.slideToLoop(Math.max(0,a),0),requestAnimationFrame((()=>l(n.slides[n.activeIndex])))}))})),s.addEventListener("click",(t=>{t.preventDefault(),e.classList.remove(i),o.classList.remove("no-scroll")}))}window.addEventListener("DOMContentLoaded",fixChromeLoadingPageAnimationIssue),function(e){e(document).ready((function(){!e.cookie("user-cookies-accepted")&&e(".cookiePopupBg").length&&e(".cookiePopupWrapper").length&&(setTimeout((function(){e(".cookiePopupWrapper").addClass("show"),e(".cookiePopupBg").addClass("show")}),3e3),e(".cookiePopupWrapper a.close").click((function(){return e.cookie("user-cookies-accepted",!0),e(".cookiePopupWrapper").removeClass("show"),e(".cookiePopupBg").removeClass("show"),!1})))}))}(jQuery);